{"title":"Vue下使用better-scroll触发click事件触发2次的解决方法","uid":"8cb79cbb342e1af117a4deecc4477305","slug":"Vue下使用better-scroll触发click事件触发2次的解决方法2020-09-14","date":"2020-09-13T16:00:00.000Z","updated":"2024-06-07T03:20:18.000Z","comments":true,"path":"api/articles/Vue下使用better-scroll触发click事件触发2次的解决方法2020-09-14.json","keywords":"蔡惠霖的博客，前端开发，Vue，Node.js","cover":"https://blog-1300014307.cos.ap-guangzhou.myqcloud.com/vue-01.jpg","content":"<p>最近在做公司项目的时候遇到了一个很奇怪的 bug, 当前页为一个 better-scroll 页面 当跳转到下一个页面再返回再跳转时 一次点击事件触发了 2 次。原因: better-scroll 第二次初始化时第一次的实例未卸载导致</p>\n<h2 id=\"解决思路-在第二次重新初始化时把-click-配置项改为-false\"><a href=\"#解决思路-在第二次重新初始化时把-click-配置项改为-false\" class=\"headerlink\" title=\"解决思路 在第二次重新初始化时把 click 配置项改为 false\"></a>解决思路 在第二次重新初始化时把 click 配置项改为 false</h2><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">    <span class=\"title function_\">_initScroll</span>(<span class=\"params\">bool</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">const</span> _self = <span class=\"variable language_\">this</span>;</span><br><span class=\"line\">      _self.<span class=\"property\">listBscroll</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">BScroll</span>(<span class=\"string\">&quot;.list-wrapper&quot;</span>, &#123;</span><br><span class=\"line\">        <span class=\"attr\">probeType</span>: <span class=\"number\">1</span>,</span><br><span class=\"line\">        <span class=\"attr\">click</span>: bool,</span><br><span class=\"line\">        <span class=\"attr\">pullUpLoad</span>: &#123; <span class=\"attr\">threshold</span>: -<span class=\"number\">30</span> &#125;,</span><br><span class=\"line\">      &#125;);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n","text":"最近在做公司项目的时候遇到了一个很奇怪的 bug, 当前页为一个 better-scroll 页面 当跳转到下一个页面再返回再跳转时 一次点击事件触发了 2 次...","permalink":"/post/Vue下使用better-scroll触发click事件触发2次的解决方法2020-09-14","photos":[],"count_time":{"symbolsCount":461,"symbolsTime":"1 mins."},"categories":[{"name":"Vue","slug":"Vue","count":6,"path":"api/categories/Vue.json"},{"name":"总结","slug":"Vue/总结","count":6,"path":"api/categories/Vue/总结.json"}],"tags":[{"name":"better-scroll","slug":"better-scroll","count":2,"path":"api/tags/better-scroll.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%A7%A3%E5%86%B3%E6%80%9D%E8%B7%AF-%E5%9C%A8%E7%AC%AC%E4%BA%8C%E6%AC%A1%E9%87%8D%E6%96%B0%E5%88%9D%E5%A7%8B%E5%8C%96%E6%97%B6%E6%8A%8A-click-%E9%85%8D%E7%BD%AE%E9%A1%B9%E6%94%B9%E4%B8%BA-false\"><span class=\"toc-text\">解决思路 在第二次重新初始化时把 click 配置项改为 false</span></a></li></ol>","author":{"name":"谢小谢","slug":"blog-author","avatar":"https://blog-1300014307.cos.ap-guangzhou.myqcloud.com/logo24.png","link":"/","description":"Love Music, love life","socials":{"github":"https://github.com/ShuHongXie","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"定制自己的 Fat-ui 组件库之如何编写自己的按需加载 babel 插件","uid":"5355fae89eaca8d398dfae233dd715c4","slug":"定制自己的 Fat-ui 组件库之如何编写自己的按需加载 babel 插件","date":"2021-02-21T16:00:00.000Z","updated":"2024-06-07T03:20:18.000Z","comments":true,"path":"api/articles/定制自己的 Fat-ui 组件库之如何编写自己的按需加载 babel 插件.json","keywords":"蔡惠霖的博客，前端开发，Vue，Node.js","cover":"https://blog-1300014307.cos.ap-guangzhou.myqcloud.com/babel.jpeg","text":"作为一名前端开发工程师 我一直想拥有自己的一套组件库，最近把 Fat-ui 的几个组件已经完成，现在将之前的按需加载 babel 插件编写过程记录下来 可以下载...","permalink":"/post/定制自己的 Fat-ui 组件库之如何编写自己的按需加载 babel 插件","photos":[],"count_time":{"symbolsCount":"4k","symbolsTime":"4 mins."},"categories":[{"name":"经验","slug":"经验","count":6,"path":"api/categories/经验.json"}],"tags":[{"name":"babel","slug":"babel","count":1,"path":"api/tags/babel.json"}],"author":{"name":"谢小谢","slug":"blog-author","avatar":"https://blog-1300014307.cos.ap-guangzhou.myqcloud.com/logo24.png","link":"/","description":"Love Music, love life","socials":{"github":"https://github.com/ShuHongXie","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Vue动态组件打包实测","uid":"3579d33c3390fb8f737ed089f4ee848a","slug":"Vue动态组件打包实测","date":"2020-09-13T16:00:00.000Z","updated":"2024-06-07T03:20:18.000Z","comments":true,"path":"api/articles/Vue动态组件打包实测.json","keywords":"蔡惠霖的博客，前端开发，Vue，Node.js","cover":"https://blog-1300014307.cos.ap-guangzhou.myqcloud.com/webpack.png","text":"记录一次关于 Vue 动态组件打包的异同...","permalink":"/post/Vue动态组件打包实测","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[{"name":"webpack","slug":"webpack","count":2,"path":"api/categories/webpack.json"},{"name":"总结","slug":"webpack/总结","count":2,"path":"api/categories/webpack/总结.json"}],"tags":[{"name":"webpack","slug":"webpack","count":2,"path":"api/tags/webpack.json"}],"author":{"name":"谢小谢","slug":"blog-author","avatar":"https://blog-1300014307.cos.ap-guangzhou.myqcloud.com/logo24.png","link":"/","description":"Love Music, love life","socials":{"github":"https://github.com/ShuHongXie","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}